<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" data-diagram-type="SEQUENCE" height="1755px" preserveAspectRatio="none" style="width:1921px;height:1755px;background:#FFFFFF;" version="1.1" viewBox="0 0 1921 1755" width="1921px" zoomAndPan="magnify"><defs/><g><g><title>main.py</title><rect fill="#FFFFFF" height="489.7344" style="stroke:#181818;stroke-width:1;" width="10" x="226.4243" y="112.4297"/></g><g><title>PipelineRunner</title><rect fill="#FFFFFF" height="431.4688" style="stroke:#181818;stroke-width:1;" width="10" x="458.9551" y="141.5625"/></g><g><title>DashboardApp</title><rect fill="#FFFFFF" height="29.1328" style="stroke:#181818;stroke-width:1;" width="10" x="741.1436" y="170.6953"/></g><g><title>DashboardApp</title><rect fill="#FFFFFF" height="43.1328" style="stroke:#181818;stroke-width:1;" width="10" x="741.1436" y="1142.9609"/></g><g><title>DashboardApp</title><rect fill="#FFFFFF" height="58.2656" style="stroke:#181818;stroke-width:1;" width="10" x="741.1436" y="1317.625"/></g><g><title>run_batch_phase()</title><rect fill="#FFFFFF" height="29.1328" style="stroke:#181818;stroke-width:1;" width="10" x="882.0176" y="228.9609"/></g><g><title>ModelPersistence</title><rect fill="#FFFFFF" height="29.1328" style="stroke:#181818;stroke-width:1;" width="10" x="1032.4209" y="433.6953"/></g><g><title>run_streaming_phase()</title><rect fill="#FFFFFF" height="87.3984" style="stroke:#181818;stroke-width:1;" width="10" x="1198.5708" y="833.7656"/></g><g><title>StreamingSimulator</title><rect fill="#FFFFFF" height="803.0547" style="stroke:#181818;stroke-width:1;" width="10" x="1515.2148" y="862.8984"/></g><g><title>Dashboard Server</title><rect fill="#FFFFFF" height="996.5234" style="stroke:#181818;stroke-width:1;" width="10" x="1710.8198" y="669.4297"/></g><rect fill="transparent" height="278.6719" style="stroke:#000000;stroke-width:1.5;" width="1105.7256" x="10" y="338.4922"/><rect fill="transparent" height="132.3359" style="stroke:#000000;stroke-width:1.5;" width="601.7915" x="20" y="477.8281"/><rect fill="transparent" height="132.3359" style="stroke:#000000;stroke-width:1.5;" width="1402.0518" x="394.0483" y="631.1641"/><rect fill="transparent" height="300.0625" style="stroke:#000000;stroke-width:1.5;" width="1237.6763" x="677.3682" y="936.1641"/><rect fill="transparent" height="162.7969" style="stroke:#000000;stroke-width:1.5;" width="1895.0444" x="20" y="1250.2266"/><rect fill="transparent" height="101.3984" style="stroke:#000000;stroke-width:1.5;" width="240.8755" x="394.0483" y="1427.0234"/><g><title>User</title><rect fill="transparent" height="1593.6563" width="8" x="44.9551" y="81.2969"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="48" x2="48" y1="81.2969" y2="1674.9531"/></g><g><title>main.py</title><rect fill="transparent" height="1593.6563" width="8" x="227.4243" y="81.2969"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="231.1235" x2="231.1235" y1="81.2969" y2="1674.9531"/></g><g><title>PipelineRunner</title><rect fill="transparent" height="1593.6563" width="8" x="459.9551" y="81.2969"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="463.0483" x2="463.0483" y1="81.2969" y2="1674.9531"/></g><g><title>DashboardApp</title><rect fill="transparent" height="1593.6563" width="8" x="742.1436" y="81.2969"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="745.3682" x2="745.3682" y1="81.2969" y2="1674.9531"/></g><g><title>run_batch_phase()</title><rect fill="transparent" height="1593.6563" width="8" x="883.0176" y="81.2969"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="886.9189" x2="886.9189" y1="81.2969" y2="1674.9531"/></g><g><title>ModelPersistence</title><rect fill="transparent" height="1593.6563" width="8" x="1033.4209" y="81.2969"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1037.1162" x2="1037.1162" y1="81.2969" y2="1674.9531"/></g><g><title>run_streaming_phase()</title><rect fill="transparent" height="1593.6563" width="8" x="1199.5708" y="81.2969"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1202.7256" x2="1202.7256" y1="81.2969" y2="1674.9531"/></g><g><title>StreamingSimulator</title><rect fill="transparent" height="1593.6563" width="8" x="1516.2148" y="81.2969"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1520.126" x2="1520.126" y1="81.2969" y2="1674.9531"/></g><g><title>Dashboard Server</title><rect fill="transparent" height="1593.6563" width="8" x="1711.8198" y="81.2969"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1715.5396" x2="1715.5396" y1="81.2969" y2="1674.9531"/></g><g><title>Configuration</title><rect fill="transparent" height="1593.6563" width="8" x="1846.5723" y="81.2969"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5.0,5.0;" x1="1850.1001" x2="1850.1001" y1="81.2969" y2="1674.9531"/></g><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="31.9102" x="30" y="77.9951">User</text><ellipse cx="48.9551" cy="13.5" fill="#E2E2F0" rx="8" ry="8" style="stroke:#181818;stroke-width:0.5;"/><path d="M48.9551,21.5 L48.9551,48.5 M35.9551,29.5 L61.9551,29.5 M48.9551,48.5 L35.9551,63.5 M48.9551,48.5 L61.9551,63.5 " fill="transparent" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="31.9102" x="30" y="1686.9482">User</text><ellipse cx="48.9551" cy="1698.75" fill="#E2E2F0" rx="8" ry="8" style="stroke:#181818;stroke-width:0.5;"/><path d="M48.9551,1706.75 L48.9551,1733.75 M35.9551,1714.75 L61.9551,1714.75 M48.9551,1733.75 L35.9551,1748.75 M48.9551,1733.75 L61.9551,1748.75 " fill="transparent" style="stroke:#181818;stroke-width:0.5;"/><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="70.6016" x="196.1235" y="50"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="56.6016" x="203.1235" y="69.9951">main.py</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="70.6016" x="196.1235" y="1673.9531"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="56.6016" x="203.1235" y="1693.9482">main.py</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="119.8135" x="404.0483" y="50"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="105.8135" x="411.0483" y="69.9951">PipelineRunner</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="119.8135" x="404.0483" y="1673.9531"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="105.8135" x="411.0483" y="1693.9482">PipelineRunner</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="117.5508" x="687.3682" y="50"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="103.5508" x="694.3682" y="69.9951">DashboardApp</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="117.5508" x="687.3682" y="1673.9531"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="103.5508" x="694.3682" y="1693.9482">DashboardApp</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="144.1973" x="814.9189" y="50"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="130.1973" x="821.9189" y="69.9951">run_batch_phase()</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="144.1973" x="814.9189" y="1673.9531"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="130.1973" x="821.9189" y="1693.9482">run_batch_phase()</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="136.6094" x="969.1162" y="50"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="122.6094" x="976.1162" y="69.9951">ModelPersistence</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="136.6094" x="969.1162" y="1673.9531"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="122.6094" x="976.1162" y="1693.9482">ModelPersistence</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="175.6904" x="1115.7256" y="50"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="161.6904" x="1122.7256" y="69.9951">run_streaming_phase()</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="175.6904" x="1115.7256" y="1673.9531"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="161.6904" x="1122.7256" y="1693.9482">run_streaming_phase()</text><rect fill="#E2E2F0" height="46.5938" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="154.1777" x="1443.126" y="33.7031"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="140.1777" x="1450.126" y="53.6982">StreamingSimulator</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="60.1836" x="1490.123" y="69.9951">(Thread)</text><rect fill="#E2E2F0" height="46.5938" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="154.1777" x="1443.126" y="1673.9531"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="140.1777" x="1450.126" y="1693.9482">StreamingSimulator</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="60.1836" x="1490.123" y="1710.2451">(Thread)</text><rect fill="#E2E2F0" height="46.5938" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="140.5605" x="1645.5396" y="33.7031"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="126.5605" x="1652.5396" y="53.6982">Dashboard Server</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="60.1836" x="1685.728" y="69.9951">(Thread)</text><rect fill="#E2E2F0" height="46.5938" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="140.5605" x="1645.5396" y="1673.9531"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="126.5605" x="1652.5396" y="1693.9482">Dashboard Server</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="60.1836" x="1685.728" y="1710.2451">(Thread)</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="108.9443" x="1796.1001" y="50"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="94.9443" x="1803.1001" y="69.9951">Configuration</text><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="108.9443" x="1796.1001" y="1673.9531"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="94.9443" x="1803.1001" y="1693.9482">Configuration</text><g><title>main.py</title><rect fill="#FFFFFF" height="489.7344" style="stroke:#181818;stroke-width:1;" width="10" x="226.4243" y="112.4297"/></g><g><title>PipelineRunner</title><rect fill="#FFFFFF" height="431.4688" style="stroke:#181818;stroke-width:1;" width="10" x="458.9551" y="141.5625"/></g><g><title>DashboardApp</title><rect fill="#FFFFFF" height="29.1328" style="stroke:#181818;stroke-width:1;" width="10" x="741.1436" y="170.6953"/></g><g><title>DashboardApp</title><rect fill="#FFFFFF" height="43.1328" style="stroke:#181818;stroke-width:1;" width="10" x="741.1436" y="1142.9609"/></g><g><title>DashboardApp</title><rect fill="#FFFFFF" height="58.2656" style="stroke:#181818;stroke-width:1;" width="10" x="741.1436" y="1317.625"/></g><g><title>run_batch_phase()</title><rect fill="#FFFFFF" height="29.1328" style="stroke:#181818;stroke-width:1;" width="10" x="882.0176" y="228.9609"/></g><g><title>ModelPersistence</title><rect fill="#FFFFFF" height="29.1328" style="stroke:#181818;stroke-width:1;" width="10" x="1032.4209" y="433.6953"/></g><g><title>run_streaming_phase()</title><rect fill="#FFFFFF" height="87.3984" style="stroke:#181818;stroke-width:1;" width="10" x="1198.5708" y="833.7656"/></g><g><title>StreamingSimulator</title><rect fill="#FFFFFF" height="803.0547" style="stroke:#181818;stroke-width:1;" width="10" x="1515.2148" y="862.8984"/></g><g><title>Dashboard Server</title><rect fill="#FFFFFF" height="996.5234" style="stroke:#181818;stroke-width:1;" width="10" x="1710.8198" y="669.4297"/></g><polygon fill="#181818" points="214.4243,108.4297,224.4243,112.4297,214.4243,116.4297,218.4243,112.4297" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="48.9551" x2="220.4243" y1="112.4297" y2="112.4297"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="99.5186" x="55.9551" y="107.3638">Executes script</text><polygon fill="#181818" points="446.9551,137.5625,456.9551,141.5625,446.9551,145.5625,450.9551,141.5625" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="236.4243" x2="452.9551" y1="141.5625" y2="141.5625"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="116.5811" x="243.4243" y="136.4966">run_full_pipeline()</text><polygon fill="#181818" points="729.1436,166.6953,739.1436,170.6953,729.1436,174.6953,733.1436,170.6953" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="468.9551" x2="735.1436" y1="170.6953" y2="170.6953"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="127.1943" x="475.9551" y="165.6294">create_dashboard()</text><polygon fill="#181818" points="479.9551,195.8281,469.9551,199.8281,479.9551,203.8281,475.9551,199.8281" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="473.9551" x2="745.1436" y1="199.8281" y2="199.8281"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="24.4702" x="485.9551" y="194.7622">app</text><polygon fill="#181818" points="870.0176,224.9609,880.0176,228.9609,870.0176,232.9609,874.0176,228.9609" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="468.9551" x2="876.0176" y1="228.9609" y2="228.9609"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="120.8975" x="475.9551" y="223.895">run_batch_phase()</text><polygon fill="#181818" points="479.9551,254.0938,469.9551,258.0938,479.9551,262.0938,475.9551,258.0938" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="473.9551" x2="886.0176" y1="258.0938" y2="258.0938"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="201.2651" x="485.9551" y="253.0278">afe_model, gbt_model, metrics</text><path d="M892,271.0938 L892,326.0938 L1133,326.0938 L1133,281.0938 L1123,271.0938 L892,271.0938 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M1123,271.0938 L1123,281.0938 L1133,281.0938 L1123,271.0938 " fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="193.2925" x="898" y="288.1606">Includes Spark init, load, AFE,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="184.9009" x="898" y="303.2935">train, evaluate, save_model,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="220.3589" x="898" y="318.4263">dashboard update (initial sample)</text><path d="M10,338.4922 L74.4429,338.4922 L74.4429,345.625 L64.4429,355.625 L10,355.625 L10,338.4922 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="transparent" height="278.6719" style="stroke:#000000;stroke-width:1.5;" width="1105.7256" x="10" y="338.4922"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="19.4429" x="25" y="351.5591">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="247.1133" x="89.4429" y="350.7026">[Batch Success (batch_success is True)]</text><line style="stroke:#181818;stroke-width:1;" x1="468.9551" x2="510.9551" y1="376.7578" y2="376.7578"/><line style="stroke:#181818;stroke-width:1;" x1="510.9551" x2="510.9551" y1="376.7578" y2="389.7578"/><line style="stroke:#181818;stroke-width:1;" x1="469.9551" x2="510.9551" y1="389.7578" y2="389.7578"/><polygon fill="#181818" points="479.9551,385.7578,469.9551,389.7578,479.9551,393.7578,475.9551,389.7578" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="190.6582" x="475.9551" y="371.6919">Use models from BatchPhase</text><line style="stroke:#000000;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="10" x2="1115.7256" y1="398.7578" y2="398.7578"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="245.4536" x="15" y="408.9683">[Batch Failure (batch_success is False)]</text><polygon fill="#181818" points="1020.4209,429.6953,1030.4209,433.6953,1020.4209,437.6953,1024.4209,433.6953" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="468.9551" x2="1026.4209" y1="433.6953" y2="433.6953"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="91.6792" x="475.9551" y="428.6294">load_models()</text><polygon fill="#181818" points="479.9551,458.8281,469.9551,462.8281,479.9551,466.8281,475.9551,462.8281" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="473.9551" x2="1036.4209" y1="462.8281" y2="462.8281"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="144.3647" x="485.9551" y="457.7622">afe_model, gbt_model</text><path d="M20,477.8281 L84.4429,477.8281 L84.4429,484.9609 L74.4429,494.9609 L20,494.9609 L20,477.8281 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="transparent" height="132.3359" style="stroke:#000000;stroke-width:1.5;" width="601.7915" x="20" y="477.8281"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="19.4429" x="35" y="490.895">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="103.2378" x="99.4429" y="490.0386">[Models Loaded]</text><line style="stroke:#181818;stroke-width:1;" x1="468.9551" x2="510.9551" y1="516.0938" y2="516.0938"/><line style="stroke:#181818;stroke-width:1;" x1="510.9551" x2="510.9551" y1="516.0938" y2="529.0938"/><line style="stroke:#181818;stroke-width:1;" x1="469.9551" x2="510.9551" y1="529.0938" y2="529.0938"/><polygon fill="#181818" points="479.9551,525.0938,469.9551,529.0938,479.9551,533.0938,475.9551,529.0938" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="123.8364" x="475.9551" y="511.0278">Use loaded models</text><line style="stroke:#000000;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="20" x2="621.7915" y1="538.0938" y2="538.0938"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="129.0889" x="25" y="548.3042">[Models Not Loaded]</text><polygon fill="#181818" points="247.4243,569.0313,237.4243,573.0313,247.4243,577.0313,243.4243,573.0313" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="241.4243" x2="462.9551" y1="573.0313" y2="573.0313"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="117.1143" x="253.4243" y="567.9653">return False (Exit)</text><polygon fill="#181818" points="59.9551,598.1641,49.9551,602.1641,59.9551,606.1641,55.9551,602.1641" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="53.9551" x2="230.4243" y1="602.1641" y2="602.1641"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="92.6631" x="65.9551" y="597.0981">Exit with Error</text><path d="M394.0483,631.1641 L458.4912,631.1641 L458.4912,638.2969 L448.4912,648.2969 L394.0483,648.2969 L394.0483,631.1641 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="transparent" height="132.3359" style="stroke:#000000;stroke-width:1.5;" width="1402.0518" x="394.0483" y="631.1641"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="19.4429" x="409.0483" y="644.231">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="314.3218" x="473.4912" y="643.3745">[Dashboard Available (app and DASH_AVAILABLE)]</text><polygon fill="#181818" points="1698.8198,665.4297,1708.8198,669.4297,1698.8198,673.4297,1702.8198,669.4297" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="463.9551" x2="1704.8198" y1="669.4297" y2="669.4297"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="189.6616" x="470.9551" y="664.3638">start thread (app.run_server)</text><polygon fill="#181818" points="474.9551,694.5625,464.9551,698.5625,474.9551,702.5625,470.9551,698.5625" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="468.9551" x2="1709.8198" y1="698.5625" y2="698.5625"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="96.4019" x="480.9551" y="693.4966">Thread started</text><line style="stroke:#000000;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="394.0483" x2="1796.1001" y1="707.5625" y2="707.5625"/><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="163.9956" x="399.0483" y="717.7729">[Dashboard Not Available]</text><line style="stroke:#181818;stroke-width:1;" x1="463.9551" x2="505.9551" y1="742.5" y2="742.5"/><line style="stroke:#181818;stroke-width:1;" x1="505.9551" x2="505.9551" y1="742.5" y2="755.5"/><line style="stroke:#181818;stroke-width:1;" x1="464.9551" x2="505.9551" y1="755.5" y2="755.5"/><polygon fill="#181818" points="474.9551,751.5,464.9551,755.5,474.9551,759.5,470.9551,755.5" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="180.4702" x="470.9551" y="737.4341">Skip dashboard server start</text><line style="stroke:#181818;stroke-width:1;" x1="463.9551" x2="505.9551" y1="791.6328" y2="791.6328"/><line style="stroke:#181818;stroke-width:1;" x1="505.9551" x2="505.9551" y1="791.6328" y2="804.6328"/><line style="stroke:#181818;stroke-width:1;" x1="464.9551" x2="505.9551" y1="804.6328" y2="804.6328"/><polygon fill="#181818" points="474.9551,800.6328,464.9551,804.6328,474.9551,808.6328,470.9551,804.6328" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="268.1885" x="470.9551" y="786.5669">Diagnostic Checks (Memory, Models, GC)</text><polygon fill="#181818" points="1186.5708,829.7656,1196.5708,833.7656,1186.5708,837.7656,1190.5708,833.7656" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="463.9551" x2="1192.5708" y1="833.7656" y2="833.7656"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="294.5059" x="470.9551" y="828.6997">run_streaming_phase(afe_model, gbt_model)</text><polygon fill="#181818" points="1503.2148,858.8984,1513.2148,862.8984,1503.2148,866.8984,1507.2148,862.8984" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="1208.5708" x2="1509.2148" y1="862.8984" y2="862.8984"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="287.644" x="1215.5708" y="857.8325">start thread (simulate_streaming_inference)</text><polygon fill="#181818" points="1219.5708,888.0313,1209.5708,892.0313,1219.5708,896.0313,1215.5708,892.0313" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="1213.5708" x2="1514.2148" y1="892.0313" y2="892.0313"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="96.4019" x="1225.5708" y="886.9653">Thread started</text><polygon fill="#181818" points="474.9551,917.1641,464.9551,921.1641,474.9551,925.1641,470.9551,921.1641" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="468.9551" x2="1202.5708" y1="921.1641" y2="921.1641"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="171.9771" x="480.9551" y="916.0981">streaming_success = True</text><path d="M677.3682,936.1641 L753.9922,936.1641 L753.9922,943.2969 L743.9922,953.2969 L677.3682,953.2969 L677.3682,936.1641 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="transparent" height="300.0625" style="stroke:#000000;stroke-width:1.5;" width="1237.6763" x="677.3682" y="936.1641"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="31.624" x="692.3682" y="949.231">loop</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="321.2559" x="768.9922" y="948.3745">[Streaming Simulation Loop (in StreamSim thread)]</text><line style="stroke:#181818;stroke-width:1;" x1="1525.2148" x2="1567.2148" y1="974.4297" y2="974.4297"/><line style="stroke:#181818;stroke-width:1;" x1="1567.2148" x2="1567.2148" y1="974.4297" y2="987.4297"/><line style="stroke:#181818;stroke-width:1;" x1="1526.2148" x2="1567.2148" y1="987.4297" y2="987.4297"/><polygon fill="#181818" points="1536.2148,983.4297,1526.2148,987.4297,1536.2148,991.4297,1532.2148,987.4297" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="161.605" x="1532.2148" y="969.3638">Create Batch DataFrame</text><line style="stroke:#181818;stroke-width:1;" x1="1525.2148" x2="1567.2148" y1="1016.5625" y2="1016.5625"/><line style="stroke:#181818;stroke-width:1;" x1="1567.2148" x2="1567.2148" y1="1016.5625" y2="1029.5625"/><line style="stroke:#181818;stroke-width:1;" x1="1526.2148" x2="1567.2148" y1="1029.5625" y2="1029.5625"/><polygon fill="#181818" points="1536.2148,1025.5625,1526.2148,1029.5625,1536.2148,1033.5625,1532.2148,1029.5625" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="105.6631" x="1532.2148" y="1011.4966">Transform (AFE)</text><line style="stroke:#181818;stroke-width:1;" x1="1525.2148" x2="1567.2148" y1="1058.6953" y2="1058.6953"/><line style="stroke:#181818;stroke-width:1;" x1="1567.2148" x2="1567.2148" y1="1058.6953" y2="1071.6953"/><line style="stroke:#181818;stroke-width:1;" x1="1526.2148" x2="1567.2148" y1="1071.6953" y2="1071.6953"/><polygon fill="#181818" points="1536.2148,1067.6953,1526.2148,1071.6953,1536.2148,1075.6953,1532.2148,1071.6953" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="108.0117" x="1532.2148" y="1053.6294">Transform (GBT)</text><line style="stroke:#181818;stroke-width:1;" x1="1525.2148" x2="1567.2148" y1="1100.8281" y2="1100.8281"/><line style="stroke:#181818;stroke-width:1;" x1="1567.2148" x2="1567.2148" y1="1100.8281" y2="1113.8281"/><line style="stroke:#181818;stroke-width:1;" x1="1526.2148" x2="1567.2148" y1="1113.8281" y2="1113.8281"/><polygon fill="#181818" points="1536.2148,1109.8281,1526.2148,1113.8281,1536.2148,1117.8281,1532.2148,1113.8281" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="119.7549" x="1532.2148" y="1095.7622">Convert to Pandas</text><polygon fill="#181818" points="762.1436,1138.9609,752.1436,1142.9609,762.1436,1146.9609,758.1436,1142.9609" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="756.1436" x2="1514.2148" y1="1142.9609" y2="1142.9609"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="304.0146" x="768.1436" y="1137.895">update_dashboard_with_predictions(batch_pd)</text><polygon fill="#181818" points="1838.5723,1168.0938,1848.5723,1172.0938,1838.5723,1176.0938,1842.5723,1172.0938" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="751.1436" x2="1844.5723" y1="1172.0938" y2="1172.0938"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="195.2349" x="758.1436" y="1167.0278">update dashboard_data (lock)</text><polygon fill="#181818" points="1503.2148,1182.0938,1513.2148,1186.0938,1503.2148,1190.0938,1507.2148,1186.0938" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="746.1436" x2="1509.2148" y1="1186.0938" y2="1186.0938"/><line style="stroke:#181818;stroke-width:1;" x1="1525.2148" x2="1567.2148" y1="1215.2266" y2="1215.2266"/><line style="stroke:#181818;stroke-width:1;" x1="1567.2148" x2="1567.2148" y1="1215.2266" y2="1228.2266"/><line style="stroke:#181818;stroke-width:1;" x1="1526.2148" x2="1567.2148" y1="1228.2266" y2="1228.2266"/><polygon fill="#181818" points="1536.2148,1224.2266,1526.2148,1228.2266,1536.2148,1232.2266,1532.2148,1228.2266" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="127.8418" x="1532.2148" y="1210.1606">time.sleep(interval)</text><path d="M20,1250.2266 L96.624,1250.2266 L96.624,1257.3594 L86.624,1267.3594 L20,1267.3594 L20,1250.2266 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="transparent" height="162.7969" style="stroke:#000000;stroke-width:1.5;" width="1895.0444" x="20" y="1250.2266"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="31.624" x="35" y="1263.2935">loop</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="329.436" x="111.624" y="1262.437">[Dashboard Interaction Loop (in DashServer thread)]</text><polygon fill="#181818" points="1698.8198,1284.4922,1708.8198,1288.4922,1698.8198,1292.4922,1702.8198,1288.4922" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="48.9551" x2="1704.8198" y1="1288.4922" y2="1288.4922"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="172.8149" x="55.9551" y="1283.4263">HTTP Request (e.g., GET /)</text><polygon fill="#181818" points="762.1436,1313.625,752.1436,1317.625,762.1436,1321.625,758.1436,1317.625" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="756.1436" x2="1709.8198" y1="1317.625" y2="1317.625"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="177.9438" x="768.1436" y="1312.5591">Handle Request / Callbacks</text><polygon fill="#181818" points="1838.5723,1342.7578,1848.5723,1346.7578,1838.5723,1350.7578,1842.5723,1346.7578" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="751.1436" x2="1844.5723" y1="1346.7578" y2="1346.7578"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="178.9912" x="758.1436" y="1341.6919">read dashboard_data (lock)</text><polygon fill="#181818" points="1698.8198,1371.8906,1708.8198,1375.8906,1698.8198,1379.8906,1702.8198,1375.8906" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="746.1436" x2="1704.8198" y1="1375.8906" y2="1375.8906"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="143.9902" x="753.1436" y="1370.8247">Rendered Page / JSON</text><polygon fill="#181818" points="59.9551,1401.0234,49.9551,1405.0234,59.9551,1409.0234,55.9551,1405.0234" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="53.9551" x2="1709.8198" y1="1405.0234" y2="1405.0234"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="100.6484" x="65.9551" y="1399.9575">HTTP Response</text><path d="M394.0483,1427.0234 L470.6724,1427.0234 L470.6724,1434.1563 L460.6724,1444.1563 L394.0483,1444.1563 L394.0483,1427.0234 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="transparent" height="101.3984" style="stroke:#000000;stroke-width:1.5;" width="240.8755" x="394.0483" y="1427.0234"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="31.624" x="409.0483" y="1440.0903">loop</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="144.2515" x="485.6724" y="1439.2339">[Main Keep-Alive Loop]</text><line style="stroke:#181818;stroke-width:1;" x1="463.9551" x2="505.9551" y1="1465.2891" y2="1465.2891"/><line style="stroke:#181818;stroke-width:1;" x1="505.9551" x2="505.9551" y1="1465.2891" y2="1478.2891"/><line style="stroke:#181818;stroke-width:1;" x1="464.9551" x2="505.9551" y1="1478.2891" y2="1478.2891"/><polygon fill="#181818" points="474.9551,1474.2891,464.9551,1478.2891,474.9551,1482.2891,470.9551,1478.2891" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="94.8213" x="470.9551" y="1460.2231">time.sleep(60)</text><line style="stroke:#181818;stroke-width:1;" x1="463.9551" x2="505.9551" y1="1507.4219" y2="1507.4219"/><line style="stroke:#181818;stroke-width:1;" x1="505.9551" x2="505.9551" y1="1507.4219" y2="1520.4219"/><line style="stroke:#181818;stroke-width:1;" x1="464.9551" x2="505.9551" y1="1520.4219" y2="1520.4219"/><polygon fill="#181818" points="474.9551,1516.4219,464.9551,1520.4219,474.9551,1524.4219,470.9551,1520.4219" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="75.042" x="470.9551" y="1502.356">Periodic GC</text><polygon fill="#181818" points="219.4243,1552.5547,229.4243,1556.5547,219.4243,1560.5547,223.4243,1556.5547" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="48.9551" x2="225.4243" y1="1556.5547" y2="1556.5547"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="158.4692" x="55.9551" y="1551.4888">Sends Interrupt (Ctrl+C)</text><polygon fill="#181818" points="451.9551,1581.6875,461.9551,1585.6875,451.9551,1589.6875,455.9551,1585.6875" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="231.4243" x2="457.9551" y1="1585.6875" y2="1585.6875"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="175.8618" x="238.4243" y="1580.6216">Catches KeyboardInterrupt</text><line style="stroke:#181818;stroke-width:1;" x1="231.4243" x2="273.4243" y1="1614.8203" y2="1614.8203"/><line style="stroke:#181818;stroke-width:1;" x1="273.4243" x2="273.4243" y1="1614.8203" y2="1627.8203"/><line style="stroke:#181818;stroke-width:1;" x1="232.4243" x2="273.4243" y1="1627.8203" y2="1627.8203"/><polygon fill="#181818" points="242.4243,1623.8203,232.4243,1627.8203,242.4243,1631.8203,238.4243,1627.8203" style="stroke:#181818;stroke-width:1;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="218.5308" x="238.4243" y="1609.7544">Stop Spark Context (finally block)</text><polygon fill="#181818" points="59.9551,1652.9531,49.9551,1656.9531,59.9551,1660.9531,55.9551,1656.9531" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2.0,2.0;" x1="53.9551" x2="230.4243" y1="1656.9531" y2="1656.9531"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="95.0117" x="65.9551" y="1651.8872">Exit Gracefully</text><!--SRC=[dLPTZzeu57tFhxZgKr21xjC-L6ebXc4-jaCN3Um-ZOHCSW5h73kr7Jhy-xss4-84c5OxqaZ1lf_d-1wRPLPf-CUWJagcBSzuoQI53mNZSbmUFm0pCAVlxkw2boYunETAIjJUA7nspMwPsMyKq_caBBsHMw3lhfMkv7h3RBPVbtjcC1ruqnktid0BNUkvob4iK1jkBCeCGuLkSRuhx7baOpMoWijT9_goMRsGuRItv4Kb6E7p8jFLdXRps9bshtGBIzG7x7kvxR2H90vl67troC9dcBrXLbaqO3BDIvkmpF83inYGJxmLMGU8oTxrjQs4M9Sr3-cWzQc9I6fhygjH9yUCoh6upfjAOx-6cyPw56Taj97ZcMsKfEMhBh13QPicuZLowUJQuhfmX0vXjx7DPu5Myyp4LKIXfABVck_s5jIsMykZp4IL4xXBOkiLkEHs24AnV0YJkzdmHLfD-0u13qnK57O8XXsQ2bxa2IkeojnbJLq4pWIP5QN0GP8mOKDAM5PPXiP06fetzKzkOAKhCWNwQo4xTKp70Nm-0rkjYhWnMgiRXJl6HQNnGl0xHbRzwAUPe0IktT2HIODTUyHEe-EMMwVHhoZnzX4RtK0EatbewOcIO-vNt-bVUAiQ1c_iMwzZV5VsMfnsZ3JQIik01gIpDsu79-keq7f0cfqmNHJ53wKRHcxX9xTxc6cjzAK8VYnzYJ9FtBy_0ktyJmv45Ti8ge861vZCuNQoV5XF_fqyFarkdcPzhbfje0AC9LK1wwN31nXx7VFRFV8YJN7hKPWEVK66Gc12q0FRLkkmFLLyxOWkNta9xIo4QaB4WC05drlETb8PKaYOxZ5xfRcOOw7qSLZJEeJxwI1sxSfoBIHz1Rzq62E1wKbxB-Gf2Sdt6TOc23v6ARdSedRtp5a6f_zjgD6bwdkuzqk9iMepDdFznMj6h7UzpXAXLDakGdrTSILfL6Y7X2hgDVGOpazKTXUEgRyVQhsvPPRTQLRW-puhpQJPAbr0Idew-6tZ-vlLhwfHaWuPqQDWmPmGdvktLrjGv_PgMxiHNfSQSvuvJ4mjcsL-OORSNTOCaB_xlhhaMxwhT02qYT-E06Mo35AXijT1rxVRHLycutINE_yCbXSuDWAn90ujZHgZ0-wdp5FUZkwZssLPb_D81MBIcpT7HsiULgi5FEEF2es55CUxCStaR0MV1cU24eFzG7IGkZMEds3AXDWm6l7_XQsVajz3jbFzCs52qvdJyTWXLV7Nyk_lx-7TqyTQy6iCJ4c710FC0MT_CtmZ5aOJmG_e4RwcZn5bV_vnzQAdTojNT219zqAYtaDmIOiciAghaXYPMYq-aaQUFG6dxZ3Je-OR7Zre9v_a_APhd9iaric6VmmH4HRVAC-MIsBm29k0-iKxyPvE6hfdvp7ftON_0G00]--></g></svg>